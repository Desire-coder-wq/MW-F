<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MWF — Receipt</title>
<link rel="stylesheet" href="css/receipt.css" />
</head>
<body class="receipt">
<main class="card">
<h1>MWF — Receipt</h1>
<div id="receipt"></div>
<div class="actions">
<a href="sales-entry.html">New Sale</a>
<button onclick="window.print()">Print</button>
</div>
</main>
<script src="assets/js/data.js"></script>
<script>
const last = JSON.parse(localStorage.getItem('mwf:lastReceipt')||'null');
const el = document.getElementById('receipt');
if(!last){ el.innerHTML = '<p>No recent receipt found.</p>'; }
else {
const rows = `
<p><strong>Customer:</strong> ${last.customer}</p>
<p><strong>Product:</strong> ${last.productName} (${last.productType})</p>
<p><strong>Quantity:</strong> ${last.quantity}</p>
<p><strong>Date:</strong> ${last.date}</p>
<p><strong>Payment:</strong> ${last.payment}</p>
<p><strong>Sales Agent:</strong> ${last.agent}</p>
<hr>
<p><strong>Unit Price:</strong> UGX ${Number(last.unitPrice).toLocaleString()}</p>
<p><strong>Subtotal:</strong> UGX ${Number(last.subtotal).toLocaleString()}</p>
<p><strong>Transport:</strong> UGX ${Number(last.transportFee).toLocaleString()}</p>
<p class="total"><strong>Total:</strong> UGX ${Number(last.total).toLocaleString()}</p>
`;
el.innerHTML = rows;
}
</script>
</body>
</html>