doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title MWF â€” User List
    link(rel="stylesheet", href="/css/userList.css")
  body
    nav.topnav
      ul
        li: a(href="/dashboard") Dashboard
        li: a(href="/sales-entry") Sales Entry
        li: a(href="/receipt") Receipt
        li: a(href="/sales-report") Sales Report
        li: a(href="/stock-report") Stock Report
        li: a(href="/stockList") Stock List
        li: a(href="/userList", class="active") User List
        li: a(href="/logout", class="logout-btn") Logout

    header#topbar
    main.container
      h1 User List

      table#userTable.table
        thead
          tr
            th #
            th Name
            th Email
            th Role
            th Actions
        tbody
          if user.length
            each item, i in user
              tr
                td #{i + 1}
                td #{item.name}
                td #{item.email}
                td #{item.role}
                td
                  a(href=`/user-edit/${item._id}`) Edit
                  form(
                    action=`/users/${item._id}?_method="DELETE"`,
                    method="POST" ,
                    style="display:inline",
                    onsubmit="return confirmDelete()"
                  )
                    button(type="submit") Delete
          else
            tr
              td(colspan="5") No users found.

    script(src="/js/assets/js/auth.js")
    script(src="/js/ui.js")
    script.
      requireAuth();
      renderTopbar("User List");

    script.
      function confirmDelete() {
        return confirm("Are you sure you want to delete this user? This action cannot be undone.");
      }

