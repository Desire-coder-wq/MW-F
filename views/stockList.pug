doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    title Stock List â€” MWF
    link(rel="stylesheet", href="/css/attendant-manage.css")
  body
    .layout
      // Sidebar
      aside.sidebar
        h2.logo Dashboard
        nav
          ul
            li
              a(href="/dashboard") Dashboard
            li
              a(href="/sales") Sales Entry
            li
              a(href="/receipt") Receipt
            li
              a(href="/sales-report") Sales Report
            li
              a(href="/stock-report") Stock Report
            li
              a(href="/stock-list", class="active") Stock List
            li
              a(href="/logout") Logout

      // Main content
      main.main-content
        header
          h1 Stock List
          p View and manage all stock items in the system.

        section.table-section
          table.stock-table
            thead
              tr
                th #
                th Product Name
                th Product Type
                th Category
                th Cost Price
                th Quantity
                th Supplier
                th Date
                th Quality
                th Color
                th Measurement
                th Total Value
                th Actions
            tbody
              if stock.length
                each item, i in stock
                  tr
                    td #{i + 1}
                    td #{item.productName}
                    td #{item.productType}
                    td #{item.category}
                    td #{item.costPrice}
                    td #{item.quantity}
                    td #{item.supplier}
                    td #{new Date(item.date).toLocaleDateString()}
                    td #{item.quality}
                    td #{item.color}
                    td #{item.measurement}
                    td #{item.quantity * item.costPrice}
                    td
                      a(href=`/stock?id=${item._id}`) Edit
                      form(action=`/api/stock/${item._id}?_method=DELETE`, method="POST", style="display:inline")
                        button(type="submit") Delete
              else
                tr
                  td(colspan="13", style="text-align:center") No stock data found.

    footer
      .container
        p &copy; 2025 Mayondo Wood & Furniture Ltd

    script.
      // Optional: Auth & topbar scripts
      requireAuth();
      renderTopbar("Stock List");
